@startuml

skinparam style strictuml
skinparam classAttributeIconSize 0
skinparam classFontStyle Bold
hide enum methods
hide interface attributes

class MastermindModel {
    - secret : Combination
    - guess : Combination
    - roundScore : int
    + generateSecreteCombination(): Combination
    + generateCombinationHint(secret: Combination, guess: Combination): Hint
    + verifyVictory(secret: Combination, guess: Combination): boolean
    + verifyLoose(nbTrys: int): boolean
    + getScore(): int
    + setScore(): int
    + verifyColors(secret : Combination, guess : Combination) : int
    + verifyPositions(secret : Combination, guess : Combination) : int
    + setGuess(guess : Combination) : void
}

class Combination {
    - colors: Color[]
    + Combination(colors: Color[])
    + getColorAtPosition(position: int): Color
}

interface MasterMindObserver <<interface>>{
    + updatePositions(Hint : int)
    + updateColors(color : int)
    +
}

enum Color <<enum>>{
    BLUE
    RED
    GREEN
    YELLOW
    ORANGE
    PURPLE
    PINK
    GREY
}

class HintObserver{

}

class Hint {
    - correctPositions: int
    - correctColors: int
    + Hint(correctPositions: int, correctColors: int)
    + getCorrectPositions(): int
    + getCorrectColors(): int
}

interface MastermindView {
    + showStartScreen(): void
    + showGameScreen(): void
    + showEndScreen(score: int, isWin: boolean): void
    + selectColorsForCombination(): Combination
    + validateCombination() : Combination
    + showHints(indice: Indice): void
    + resetCombination(): void
}

class MastermindSwingView extends MastermindView{
    - startScreen: JFrame
    - gameScreen: JFrame
    - endScreen: JFrame
    + MastermindSwingView()
    + showStartScreen(): void
    + showGameScreen(): void
    + showEndScreen(score: int, isWin: boolean): void
    + selectColorsForCombination(): Combination
    + showHints(indice: Indice): void
    + resetCombination(): void
}

class MastermindController {
    - modele: MastermindModel
    - vue: MastermindView
    - gameScore : int
    + MastermindController(modele: MastermindModel, vue: MastermindView)
    + startGame(rounds : int): void
    + startRound() : int
    + makeGuess(combinaison: Combinaison): void
    + resetGame(): void
}

MastermindModel ..> Combination
MastermindModel ..> Hint
MastermindModel --> MastermindView
MastermindView <|-- MastermindSwingView
MastermindController --> MastermindModel
MastermindController --> MastermindView
Combination o--> Color : utilise

@enduml
