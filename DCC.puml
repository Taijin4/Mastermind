@startuml
skinparam style strictuml
skinparam classAttributeIconSize 0
skinparam classFontStyle Bold
hide enum methods
hide interface attributes

package Model {

    class MastermindGame {
        - currentAttempts : Integer
        - roundScore : Integer
        + <<create>> MastermindGame(nbColors : Integer)
        + verifyVictory(): Boolean
        + verifyLoose(): Boolean
        + getScore(): Integer
        + setScore(score : Integer)
        + submitPlayerCombination(guess : Combination)
        + getCurrentAttempt(): Integer
    }

    class Combination {
        - colors: Color[]
        + <<create>> Combination(colors: Color[])
        + <<create>> Combination()
        + generateSecreteCombination(nbColors : Integer): Combination
        + getColorAtPosition(position: Integer): Color
    }

    class Hint {
        - private: HintSuccess[]
        + <<create>> Hint(success : HintSuccess[])
        + generateCombinationHint(secret: Combination, guess: Combination): Hint
        + verifyColors(): Integer
        + verifyPositions(): Integer
        + getCorrectPositions(): Integer
        + getCorrectColors(): Integer
    }

    enum Colors <<enum>> {
        BLUE,
        RED,
        GREEN,
        YELLOW,
        ORANGE,
        PURPLE,
        GREY
    }

    enum HintSuccess <<enum>> {
        RIGHTPOSITIONANDCOLOR,
        RIGHTCOLOR,
        FALSE
    }

    interface MasterMindObserver <<interface>> {
        + updatePositions(hint : Hint)
        + updateColors(color : Integer)
    }

    interface GameStrategy <<interface>> {
        + executeStrategy(game : MastermindGame): void
    }

}

package View {

    interface MastermindView {
        + showStartScreen()
        + showGameScreen()
        + showEndScreen(score: Integer, isWin: Boolean)
        + selectColorsForCombination(): Combination
        + validateCombination() : Combination
        + showHints(hint: Hint)
        + resetCombination()
    }

    class MastermindSwingView implements MastermindView {
        + showStartScreen()
        + showGameScreen()
        + showEndScreen(score: Integer, isWin: Boolean)
        + selectColorsForCombination(): Combination
        + validateCombination() : Combination
        + showHints(hint: Hint)
        + resetCombination()
    }

}

package Controller {

    class MastermindController {
        - game : MastermindGame
        - view : MastermindView
        + <<create>> MastermindController(game: MastermindGame, view: MastermindView)
        + startGame(nbRounds : Integer)
        + startRound() : Integer
        + makeGuess(combination: Combination)
        + resetGame()
    }

}

MastermindGame --> "1" Combination : secretCombination
MastermindGame --> "*" Combination : attempts
MastermindController --> MastermindGame : controls
MastermindController --> MastermindView : displays
Combination --> "*" Colors : consists of
Hint --> HintSuccess : determines >
MastermindGame ..> Hint : uses >
@enduml
